<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Scroll: Pop Over</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body { background-color: #f0fff4; }
        .scroll-tracker {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #198754;
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            z-index: 1000;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .hero-section {
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fff;
            border-bottom: 2px solid #d1fae5;
        }
        .content-block { padding: 100px 0; }
        .dummy-text { font-size: 1.1rem; line-height: 1.8; color: #4b5563; }
    </style>
</head>
<body>

<div class="scroll-tracker" id="tracker">0%</div>

<div class="hero-section text-center">
    <div>
        <span class="badge bg-success mb-2">Ticket 2579</span>
        <h1 class="display-4 fw-bold text-success">Trigger: Pop Over por Scroll</h1>
        <p class="lead text-muted">Desliza hacia abajo para alcanzar el 50% y activar el Pop Over.</p>
        <div class="mt-4 animate-bounce">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-down-circle text-success" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"/>
            </svg>
        </div>
    </div>
</div>

<div class="container content-block">
    <div class="row justify-content-center">
        <div class="col-md-9" id="filler-content">
            </div>
    </div>
</div>

<footer class="bg-white py-4 text-center border-top">
    <a href="../../index.html" class="btn btn-outline-secondary btn-sm">← Volver a la Matriz</a>
</footer>

<script>
    // Generación de contenido para forzar el scroll
    const container = document.getElementById('filler-content');
    for(let i=1; i<=12; i++) {
        container.innerHTML += `
            <div class="mb-5 p-4 bg-white rounded shadow-sm">
                <h3 class="text-success">Bloque de Datos #${i}</h3>
                <p class="dummy-text">Como parte del análisis para el <strong>Ticket 2579</strong>, estamos probando la latencia entre el evento de scroll capturado por el DOM y el tiempo de respuesta del intercepto de Qualtrics. En entornos de Ciencia de Datos, la precisión de estos triggers permite evitar el sesgo de interrupción temprana.</p>
                <p class="dummy-text small">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            </div>
        `;
    }

    // Lógica del tracker visual
    window.onscroll = function() {
        let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        let scrolled = Math.round((winScroll / height) * 100);
        
        document.getElementById("tracker").innerText = scrolled + "%";

        if (scrolled >= 50) {
            console.log("INFO [Ticket 2579]: Umbral del 50% superado. Qualtrics Pop Over disparado.");
        }
    };
</script>
<!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->

<script type='text/javascript'>

(function(){var g=function(g){

this.go=function(){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)};

this.start=function(){var t=this;"complete"!==document.readyState?window.addEventListener?window.addEventListener("load",function(){t.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){t.go()}):t.go()};};

try{(new g("https://zn29tbujbtbh0fw1b-inferencelabssandbox.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_29tBuJBTBh0fw1b")).start()}catch(i){}})();

</script><div id='ZN_29tBuJBTBh0fw1b'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>

<!--END WEBSITE FEEDBACK SNIPPET-->
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Scroll: Responsive Dialog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body { background-color: #f8fafc; }
        .progress-container {
            position: fixed;
            top: 0;
            width: 100%;
            height: 8px;
            background: #ccc;
            z-index: 1000;
        }
        .progress-bar {
            height: 8px;
            background: #0d6efd;
            width: 0%;
        }
        .content-section { padding: 80px 0; }
        .scroll-indicator {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>

<div class="progress-container">
    <div class="progress-bar" id="myBar"></div>
</div>

<div class="container content-section">
    <div class="row justify-content-center text-center">
        <div class="col-md-8">
            <span class="badge bg-primary mb-2">Ticket 2579</span>
            <h1 class="display-4 fw-bold">Test de Scroll (>50%)</h1>
            <p class="lead text-muted">Baja por la página para activar el Responsive Dialog.</p>
            <hr class="my-5">
            
            <div id="lorem-content" class="text-start">
                </div>
        </div>
    </div>
</div>

<div class="scroll-indicator border">
    <small class="text-muted d-block">Desplazamiento:</small>
    <span id="scroll-pct" class="fw-bold text-primary">0%</span>
</div>

<div class="mt-5 border-top pt-4">
    <a href="../../index.html" class="btn btn-link btn-sm text-decoration-none text-muted">
        ← Regresar al Menú Principal
    </a>
</div>

<script>
    // Generar texto de relleno para crear scroll
    const content = document.getElementById('lorem-content');
    for(let i=0; i<15; i++) {
        content.innerHTML += `
            <h3>Sección de contenido ${i+1}</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
            <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.</p>
            <br>`;
    }

    // Actualizar barra de progreso e indicador
    window.onscroll = function() {
        let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        let scrolled = (winScroll / height) * 100;
        
        document.getElementById("myBar").style.width = scrolled + "%";
        document.getElementById("scroll-pct").innerText = Math.round(scrolled) + "%";

        if (scrolled > 50) {
            console.log("INFO: Superado el 50% de scroll. Qualtrics debería disparar el Dialog.");
        }
    };
</script>
<!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->

<script type='text/javascript'>

(function(){var g=function(g){

this.go=function(){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)};

this.start=function(){var t=this;"complete"!==document.readyState?window.addEventListener?window.addEventListener("load",function(){t.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){t.go()}):t.go()};};

try{(new g("https://zn29tbujbtbh0fw1b-inferencelabssandbox.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_29tBuJBTBh0fw1b")).start()}catch(i){}})();

</script><div id='ZN_29tBuJBTBh0fw1b'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>

<!--END WEBSITE FEEDBACK SNIPPET-->
</body>
</html>
